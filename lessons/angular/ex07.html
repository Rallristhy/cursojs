<!DOCTYPE html>

<!-- Diretiva ng-app, significa que o angular irá controla todos conteúdo dentro de html -->
<html ng-app="app">
<head>
	<meta charset="utf-8">
	<title>Fundamentos Angular</title>
	
	<!-- Importando angular -->
	<script type="text/javascript" src="../node_modules/angular/angular.min.js"></script>
	<script type="text/javascript">

		/*
		* app é o nome da aplicação
		* [] são as dependencias
		* 
		*/
		angular.module('app', []);

		/*
		* Service utiliza uma função, estancia como singleton e disponibiliza externamente
		* Localizar a aplicação angular.module.('app')
		* utils é o nome do service
		* [] são dependencias, injeções
		*/
		angular.module('app').service('utils', function() {
			/* É necessário colocar this para tornar publica esse função, tornando visível externamente */
			this.upper = function (input){
				return input.toUpperCase();
			}


		});

		angular.module('app').controller('MeuController', [

			/* Adiciona a factory criada na controller */
			'utils',

			function(utils){
				const self = this;
				self.value = utils.upper("texto");
			}

		]);
		

	</script>

</head>
<body>

	<div ng-controller="MeuController as ctrl">
		<h1>{{ ctrl.value }}</h1>
	</div>

</body>
</html>